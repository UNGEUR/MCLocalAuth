# MCLocalAuth v1.2.1

**Type:** Hotfix  
**Date:** 21 Octobre 2025

---

## 🔧 Correction principale

### Commande /auth avec paramètre "pseudo" en cache

**Problème:**

Discord gardait l'ancienne version de `/auth` avec 2 paramètres:
```
/auth <pseudo> <code>
```

Alors que v1.2.0 avait changé pour:
```
/auth <code>
```

**Cause:** Discord met en cache les commandes (jusqu'à 1h)

---

## ✅ Solution

### Suppression forcée avant enregistrement

Nouvelle logique dans `DiscordBot.java`:

1. Supprimer TOUTES les anciennes commandes
2. Attendre confirmation
3. Enregistrer les nouvelles commandes

```java
guild.updateCommands().queue() // Vide les commandes
→ Puis guild.updateCommands().addCommands(...)
```

---

## 🎉 Résultat

- Commande `/auth` mise à jour instantanément
- Plus de champ "pseudo" dans Discord
- Seulement: `/auth <code>`

---

## 📋 Logs attendus

Lors du démarrage, vous verrez:
```
Suppression des anciennes commandes Discord...
Anciennes commandes supprimees
Nouvelles commandes Discord enregistrees
```

---

## 📦 Installation

1. Remplacer par `MCLocalAuth-Spigot-v1.2.1.jar`
2. Redémarrer serveur
3. Les commandes Discord se mettent à jour automatiquement

---

**Taille:** 10.68 MB  
**Statut:** HOTFIX
